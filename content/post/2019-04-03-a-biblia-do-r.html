---
title: A Bíblia do R
author: Michelangelo R. dos Anjos
date: '2019-10-29'
slug: a-biblia-do-r
categories:
  - R
  - Turoriais
tags:
  - R
  - Code
  - Basic
  - Tutorial
editor_options: 
  chunk_output_type: console
output:
  blogdown::html_page:
    toc: true
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>
<script src="/rmarkdown-libs/kePrint/kePrint.js"></script>

<div id="TOC">
<ul>
<li><a href="#introdução">1. Introdução</a></li>
<li><a href="#funções-de-configuração-e-ajuda.">2. Funções de configuração e ajuda.</a>
<ul>
<li><a href="#alterando-o-formato-que-as-saídas-são-exibidas.">2.1. Alterando o formato que as saídas são exibidas.</a></li>
<li><a href="#funções-de-ajuda.">2.2. Funções de ajuda.</a></li>
</ul></li>
<li><a href="#atalhos-úteis">3. Atalhos úteis</a></li>
<li><a href="#comandos-base-úteis.">4. Comandos base úteis.</a></li>
<li><a href="#estrutura-e-criação-de-objetos.">5. Estrutura e criação de objetos.</a>
<ul>
<li><a href="#vetores">5.1. Vetores</a></li>
<li><a href="#matrizes">5.2. Matrizes</a></li>
<li><a href="#tipos-de-objetos">5.3. Tipos de objetos</a></li>
<li><a href="#data-frames">5.4. Data Frames</a></li>
<li><a href="#listas">5.5. Listas</a></li>
</ul></li>
<li><a href="#operações-matemáticas-básicas">6. Operações matemáticas básicas</a></li>
</ul>
</div>

<div id="introdução" class="section level2">
<h2>1. Introdução</h2>
<p><a name="abcd"> Esse </a> é o primeiro post e o que eu considero o principal e mais importante, pois a ideia de criação do site surgiu por causa de um backup de códigos que eu criei conforme as necessidades iam aparecendo e carregava ele comigo para todo lado para consultar quando precisava. Dessa forma, decidi organizá-lo melhor, upar na internet para facilitar o acesso e compartilhar com mais pessoas que tenham interesse e espero que possa ser útil para mais alguém como é muito importante para mim (já que minha memória não é das melhores :laughing:).</p>
<p>O post estará em constante atualização, pois sempre surge algo novo para aprendermos e a ideia é passar a linguagem R para frente sempre de maneira simples e didática, talvez a organização não fique a das melhores, mas vou procurar me esforçar ao máximo, caso o sumário não fique muito claro, recomendo utilizar o <strong>“Ctrl F”</strong> que sempre me salvou e pode ajudar vocês também.</p>
<p>Por último, antes de começar realmente os códigos, vocês encontraram meio misturado códigos <strong>dplyr</strong> com o <strong>R raiz</strong>, mas será em momentos na qual os códigos possuem a mesma função mas simplesmente podem ser escritos em estruturas diferentes. Acho muito importante saber as diversas maneiras de programar pois existem horas que uma será mais fácil que a outra. Por exemplo, na minha opinião, o <strong>R raiz</strong> é mais fácil para programar rotinas, loop, for, if, while, etc. Já o <strong>dplyr</strong> é mais fácil para acessar, consultar, agrupar, exibir resultados de uma tabela.</p>
<p><a href="#abcd">Volte ao topo</a></p>
<hr />
</div>
<div id="funções-de-configuração-e-ajuda." class="section level2">
<h2>2. Funções de configuração e ajuda.</h2>
<p>Antes de começar de fato a entrar na linguagem R, vou deixar algumas funções de configuração e ajuda no R que também são muito importantes e costumo utilizar bastante no dia a dia.</p>
<div id="alterando-o-formato-que-as-saídas-são-exibidas." class="section level3">
<h3>2.1. Alterando o formato que as saídas são exibidas.</h3>
<p><em>Parametros:</em></p>
<ul>
<li>scipen e digits.</li>
</ul>
<p>Esses dois parâmetros são os que mais utilizo nas configurações do R, antes mesmo de começar a programar.</p>
<ul>
<li>O primeiro <strong>scipen</strong> especifica qual saída queremos exibir para os números, se a ciêntifica <span class="math inline">\(e^{10}\)</span> ou os números completos.</li>
<li>O segundo <strong>digits</strong> especifica a quantidade de digitos que queremos exibir.</li>
</ul>
<p>OBS: O número no parâmetro não importa para o <strong>scipen</strong>, apenas o sinal.</p>
<ul>
<li>scipen.
<ul>
<li>Negativo: Linguagem ciêntifica é exibida.</li>
<li>Positivo: O número é exibido inteiro.</li>
</ul></li>
<li>digits.
<ul>
<li>Número de digitos.</li>
</ul></li>
</ul>
<pre class="r"><code>options(scipen = -9999, digits = 3)</code></pre>
<pre><code>## Saída exibida:  2.58e+00</code></pre>
<pre class="r"><code>options(scipen = 1111, digits = 6)</code></pre>
<pre><code>## Saída exibida:  2.57576</code></pre>
</div>
<div id="funções-de-ajuda." class="section level3">
<h3>2.2. Funções de ajuda.</h3>
<p>Quando queremos saber informações sobre determinada função no R podemos utilizar o comando <strong>help</strong> ou a abreviação <strong>?</strong>.</p>
<pre class="r"><code>help(mean)
?mean</code></pre>
<p>Em algumas ocasiões não lembramos o nome da função inteira, apenas uma parte. Ao utilizar o comando <strong>apropos</strong> o <strong>R</strong> lista funções que tem a parte especificada no nome.</p>
<pre class="r"><code>apropos(&#39;mea&#39;)</code></pre>
<pre><code>##  [1] &quot;.colMeans&quot;          &quot;.rowMeans&quot;          &quot;colMeans&quot;          
##  [4] &quot;influence.measures&quot; &quot;kmeans&quot;             &quot;mean&quot;              
##  [7] &quot;mean.Date&quot;          &quot;mean.default&quot;       &quot;mean.difftime&quot;     
## [10] &quot;mean.POSIXct&quot;       &quot;mean.POSIXlt&quot;       &quot;rowMeans&quot;          
## [13] &quot;weighted.mean&quot;</code></pre>
<p>Por último e de muita utilidade, conseguimos verificar os símbolos operacionais matemáticos que o <strong>R</strong> utiliza apenas com o comando abaixo.</p>
<pre class="r"><code>help(&#39;*&#39;)</code></pre>
<pre><code>## Saída exibida no Help:
## + x
## - x
## x + y
## x - y
## x * y
## x / y
## x ^ y
## x %% y
## x %/% y</code></pre>
<p><a href="#abcd">Volte ao topo</a></p>
</div>
</div>
<div id="atalhos-úteis" class="section level2">
<h2>3. Atalhos úteis</h2>
<ul>
<li>Seleção vertical.
<ul>
<li>Para realizar esse tipo de seleção segure <strong>alt</strong> apertado e selecionando com o mouse, fazemos seleção vertical e podemos alterar tudo de uma vez.</li>
<li>Além disso combinamos algumas teclas para facilitar. Ao selecionar verticalmente com o <strong>alt</strong>, apertando <strong>shift + end</strong> o cursor vai para o fim de todas as linhas selecionadas, ou <strong>shift + home</strong> para o cursor ir para o início da linha. Outra possibilidade é utilizar as setas para o lado para selecionar, na maioria das vezes é isso que eu utilizo <strong>shift + -&gt; ou &lt;- </strong>.</li>
</ul></li>
<li>Substituindo palavras no R.
<ul>
<li>Apertando ctrl F assim como no excel, conseguimos substituir todas palavras de uma vez</li>
</ul></li>
</ul>
<p><em>Parametros:</em></p>
<p>1 - <strong>In selection:</strong> substitui apenas no local selecionado</p>
<p>2 - <strong>Match case:</strong> diferencia maiuscula de minuscula</p>
<p>3 - <strong>Regex:</strong> entende o comando <strong>|</strong> como se fosse <strong>ou</strong>, ou seja operador lógico.</p>
<ul>
<li>Refazendo uma ação.
<ul>
<li>Muitos sabem que o <strong>ctrl + z</strong> desfaz uma ação no R, mas em alguns casos acabamos desfazendo mais do que queriamos, para <strong>refazer</strong> algo desfeito existe o comando <strong>ctrl + shift + z</strong> que você pode alterar em <strong>Tools - Modify Keyboard Shortcuts</strong>, o mais utilizado em geral para refazer caso queira alterar é o <strong>ctrl + i</strong>. Outros atalhos também podem ser configurados nessa janela.</li>
</ul></li>
</ul>
<p><a href="#abcd">Volte ao topo</a></p>
</div>
<div id="comandos-base-úteis." class="section level2">
<h2>4. Comandos base úteis.</h2>
<ul>
<li>Limpando a memória do R.
<ul>
<li>Quando trabalhamos com <strong>loop</strong> ou um código muito grande que vai gerando bases temporrárias pesadas, isso vai sobrecarregando a memória do R, tempos alguns comandos que podem nos ajudar nisso, são eles: <strong>objects</strong>, <strong>ls</strong> e <strong>rm</strong>, .</li>
</ul></li>
</ul>
<p>O comando <strong>objects</strong> e <strong>ls</strong> lista os objetos criados até o momento no R.</p>
<pre class="r"><code>objects()
ls()</code></pre>
<p>Já o comando <strong>rm</strong> limpa os objetos criados no R. É possível remover <em>TODOS</em> os objetos criados, combiando o comando <strong>rm</strong> com <strong>ls</strong> como vemos abaixo.</p>
<pre class="r"><code>rm(list = ls())</code></pre>
<p>Ou podemos excluir apenas alguns objetos de interesse, por exemplo.</p>
<pre class="r"><code>objeto1 = c()
objeto2 = c()
rm(objeto1, objeto2)</code></pre>
<ul>
<li>Verificando e alterando diretórios.
<ul>
<li>Para verificiar o diretório que estamos trabalhando no R, onde serão salvos os arquivos, as bases entre outras coisas, utilizamos o comando <strong>getwd</strong>.</li>
<li>Para alterar o caminho de um diretório para uma pasta de um projeto específico por exemplo, utilizamos o <strong>setwd</strong>. Outro detalhe é que para especificarmos um caminho no R não utilizamos as barras padrão do windows <strong>C:\</strong> mas sim as barras duplas, como mostra o exemplo abaixo, ou até mesmo a barra invertida <strong>C:/</strong></li>
</ul></li>
</ul>
<pre class="r"><code>getwd()
setwd(&quot;C:\\Users&quot;)</code></pre>
<ul>
<li>Salvando e carregando arquivos do tipo RData.
<ul>
<li>Os objetos no R podem ser salvos utilizando o comando <strong>save</strong> e carregados utilizando o comando <strong>load</strong>.</li>
<li><strong>save</strong> - O primeiro parâmetro é o nome do objeto a ser salvo (pode ser mais do que um) e o segundo o diretório que ele será salvo (se não especificar salvará no que já esta configurado) seguido do nome do objeto e sua extenção do r <strong>RData</strong>.</li>
<li><strong>load</strong> - O parâmetro necessário é o diretório que o objeto está salvo seguido do seu nome e sua extenção <strong>RData</strong>.</li>
</ul></li>
</ul>
<pre class="r"><code>objeto1 = c()
objeto2 = c()

save(objeto1,objeto2, file = &quot;C:\\Users\\objeto1.RData&quot;)
load(file = &quot;C:\\Users\\objeto1.RData&quot;)</code></pre>
<ul>
<li>Instalando, carregando e descarregando pacotes
<ul>
<li>Para instalar um pacote usamos o <strong>install.packages</strong></li>
<li>Para carregar um pacote usamos o <strong>library</strong>.</li>
<li>Para descarregar um pacote usamos o <strong>detach</strong> ele apenas descarrega o pacote caso o mesmo tenha sido carregado com o <strong>library</strong>.</li>
</ul></li>
</ul>
<pre class="r"><code>install.packages(&quot;pacote&quot;)
library(pacote)
detach(package:pacote)</code></pre>
<p>Não precisamos necessariamente carregar um pacote, basta chamá-lo pelo nome, seguido de <strong>::</strong> e em seguida a função que desejamos utilizar dele, por exemplo:</p>
<pre class="r"><code>dplyr::select()</code></pre>
<ul>
<li>Verificando os pacotes instalados</li>
</ul>
<p>Pode não parecer útil, mas em algum momento pode se tornar. O comando abaixo lista todos os pacotes instalados na versão do R que você está utilizando.</p>
<pre class="r"><code>rownames(installed.packages())</code></pre>
<p>É muito útil quando criamos funções na qual possui pacotes depententes, nesse caso, verificamos se o pacote está instalado, caso não esteja, instalamos.</p>
<pre class="r"><code>if(&quot;pacote&quot; %in% rownames(installed.packages()) == FALSE){
  install.packages(&quot;pacote&quot;)
  }</code></pre>
<p>Outra utilidade é quando vamos atualizar o R ou mudar de computador e acabamos perdendo todos os pacotes. Antes de fazer essa alteração de versão ou de computador, podemos rodar o seguinte comando no computador/versão antiga:</p>
<pre class="r"><code>packages = c(&quot;gdata&quot;,rownames(installed.packages()))
save(packages, file=&quot;C:/Temp/Rpackages&quot;)</code></pre>
<p>Na qual criamos a pasta <strong>temp</strong> anteriormente no nosso computador, salvamos todos os pacotes salvos no objeto <strong>packages</strong> e salvamos esse objeto em nossa pasta <strong>temp</strong>.</p>
<p>Ao trocar de computador/versão, carregamos essa pasta com a gente e usamos o comando para instalar todos os pacotes que estavam instalados para nós.</p>
<pre class="r"><code>load(file = &quot;C:/Temp/Rpackages&quot;)
for (p in setdiff(packages, rownames(installed.packages()))){
  install.packages(p)
}</code></pre>
<ul>
<li><a name="condicionais">Condicionais no R.</a>
<ul>
<li><strong>=</strong> (recebe)</li>
<li><strong>==</strong> (igual)</li>
<li><strong>!=</strong> (diferente)</li>
<li><strong>&gt;</strong> (maior)</li>
<li><strong>&lt;</strong> (menor)</li>
<li><strong>&gt;=</strong> (maior igual)</li>
<li><strong>&lt;=</strong> (menor igual)</li>
</ul></li>
</ul>
</div>
<div id="estrutura-e-criação-de-objetos." class="section level2">
<h2>5. Estrutura e criação de objetos.</h2>
<p>Os objetos mais utilizados no R por mim pelo menos são vetores, matrizes, data frames e listas, irei mostrar a estrutura de cada um deles e como acessar seus elementos. Para atribuir uma variável a um objeto utilizamos as teclas <strong>&lt;-</strong> ou <strong>=</strong> fica a sua escolha.</p>
<div id="vetores" class="section level3">
<h3>5.1. Vetores</h3>
<p>Para criar um vetor utilizamos a função <strong>c()</strong>:</p>
<pre class="r"><code>vet_1 = c(7,2,5,9,7)
vet_2 = c(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;)
vet_3 = c(1,&quot;a&quot;,5)
vet_4 = c(17,12,15,19,17)</code></pre>
<p>Para acessar os elementos de um vetor é simples, basta utilizar o comando <strong>[]</strong> sendo que dentro dele especificamos qual o índice do vetor queremos acessar. Por exemplo, se queremos verificar qual o segundo elemento do vetor 1 <strong>vet_1</strong>, fazemos <strong>vet_1[2]</strong>.</p>
<p>Eu leio esse comando como se fosse <strong>onde</strong>, isso me ajuda muito na parte de filtragem e seleção de dados que veremos mais para frente. Meu conselho então é sempre que ver o símbolo <strong>[]</strong> ler <strong>onde</strong>. Por exemplo <strong>vet_1[2]</strong> leia <strong>vet_1 onde a posição é 2</strong>.</p>
<pre class="r"><code>vet_1[2]</code></pre>
<pre><code>## Saída exibida:  2</code></pre>
<p>Em alguns casos é útil nomear os elementos de um vetor, por exemplo</p>
<pre class="r"><code>names(vet_1) = c(&#39;um&#39;,&#39;dois&#39;, &#39;tres&#39;,&#39;quatro&#39;,&#39;cinco&#39;)</code></pre>
<pre><code>## Saída exibida:</code></pre>
<pre><code>##     um   dois   tres quatro  cinco 
##      7      2      5      9      7</code></pre>
<p>Dessa forma, podemos acessar os elementos dos vetores através do seu nome e começamos introduzir outro conceito que é o de camadas, muito utilizados em listas que iremos ver mais para frente. Temos duas camadas agora então, o título com o conteúdo de cada elemento na primeira camada e o somente o conteúdo daquele elemento na segunda camada.</p>
<p>A primeira camada já vimos como acessar, que é utilizando o comando <strong>[]</strong>, para a segunda camada, basta utilizarmos duas vezes esse comando <strong>[[]]</strong> pronto.</p>
<p>Acesso a primeira camada do primeiro elemento com o título e conteúdo:</p>
<pre class="r"><code>vet_1[1]</code></pre>
<pre><code>## Saída exibida:</code></pre>
<pre><code>## um 
##  7</code></pre>
<p>Acesso a segunda camada do primeiro elemento com o conteúdo:</p>
<pre class="r"><code>vet_1[[1]]</code></pre>
<pre><code>## Saída exibida:  7</code></pre>
<p>Para filtrar valores dentro de um vetor utilizamos as condicionais exemplificadas <a href="#condicionais">AQUI</a>, ou até mesmo para comparar e fazer verificações se um vetor é igual ao outro.</p>
<ul>
<li>Retornando valores dentro do vetor que são iguais a 7</li>
</ul>
<pre class="r"><code>vet_1[vet_1 == 7]</code></pre>
<pre><code>## Saída exibida:</code></pre>
<pre><code>##    um cinco 
##     7     7</code></pre>
<ul>
<li>Retornando valores dentro do vetor que são menores do que 7</li>
</ul>
<pre class="r"><code>vet_1[vet_1 &lt; 7]</code></pre>
<pre><code>## Saída exibida:</code></pre>
<pre><code>## dois tres 
##    2    5</code></pre>
<p>Outra verificação que podemos fazer é o tamanho do vetor, através da função <strong>length</strong>, ou seja, quantos elementos tem dentro daquele objeto vetor.</p>
<pre class="r"><code>length(vet_1)</code></pre>
<pre><code>## Saída exibida:  5</code></pre>
<p>Algumas funções facilitam bastante nossa vida na hora de criar vetores, por exemplo, <strong>vetores de repetição</strong>, <strong>aleatórios</strong> e <strong>sequenciais</strong></p>
<ul>
<li>Vetores de repetição</li>
</ul>
<p>Repetindo a sequencia de 1 a 5 duas vezes</p>
<pre class="r"><code>rep(1:5, 2)</code></pre>
<pre><code>## Saída exibida:  1 2 3 4 5 1 2 3 4 5</code></pre>
<p>Repetindo os números de 1 a 5 duas vezes</p>
<pre class="r"><code>rep(1:5, each=2)</code></pre>
<pre><code>## Saída exibida:  1 1 2 2 3 3 4 4 5 5</code></pre>
<ul>
<li>Gerando números aleatorios de acordo com algumas distribuições.</li>
</ul>
<p>10 números aleatórios normais com média 0 e desvio padrão 1.</p>
<pre class="r"><code>rnorm(10, mean = 0, sd = 1)</code></pre>
<pre><code>##  [1]  0.898260 -0.135268  0.237004  1.928214  0.892631  1.362287 -0.351786
##  [8] -1.588050 -0.266522  0.470095</code></pre>
<p>10 números aleatórios com distribuição poisson com número esperado de ocorrências e variância iguais a 3.</p>
<pre class="r"><code>rpois(10,3) #poisson</code></pre>
<pre><code>##  [1] 2 3 3 1 4 5 4 2 4 1</code></pre>
<p>Para a binomial temos algumas situações, primeiros podemos querer realizar 400 jogos, onde cada jogo tem 10 lançamentos de moeda, cuja probabilidade de sucesso é 0.5. Nesse caso esperamos que em média, o número de sucessos seja aproximadamente 5, como modemos ver abaixo:</p>
<pre class="r"><code>rbinom(400, 10, 0.5)</code></pre>
<pre class="r"><code>mean(rbinom(400, 10, 0.5))</code></pre>
<pre><code>## [1] 4.9975</code></pre>
<p>Dessa forma se fizemos uma rodada de lançamento de moedas, onde cada rodada tem 10 jogos e somamos o número de sucessos com probabilidade 0.5 cada, tem o mesmo valor esperado do que somar 10 rodadas com 1 lançamento cada, cuja resposta é 0 para fracasso e 1 para sucesso e com probabilidade 0.5 de sucesso em cada lançamento.</p>
<pre class="r"><code>rbinom(1, 10, 0.5)</code></pre>
<pre><code>## Saída exibida:  6</code></pre>
<pre class="r"><code>sum(rbinom(10, 1, 0.5))</code></pre>
<pre><code>## Saída exibida:  7</code></pre>
<p>Mais usual é gerar números aleatórios com a mesma probabilidade de sucesso utilizando a distribuição uniforme, nesse casos podemos gerar 10 números na qual o mínimo é 1 e o máximo é 10.</p>
<pre class="r"><code>runif(10,min = 1, max = 10) #uniforme </code></pre>
<pre><code>##  [1] 7.99756 1.78690 4.72180 4.74171 8.90881 3.22290 4.57591 4.25238 5.81887
## [10] 8.73330</code></pre>
<pre><code>## Saída exibida:  8.57591 8.96771 2.31758 9.40306 8.28004 1.42416 4.0981 7.66782 7.29813 4.75694</code></pre>
<p>A mesma lógica pode ser usada mas agora gerando apenas números inteiros através da função sample, gerando 10 números de -10 a 10.</p>
<pre class="r"><code>sample(-10:10, 10)</code></pre>
<pre><code>## Saída exibida:  -2 6 3 5 -3 -1 -4 0 2 -5</code></pre>
<p>Além disso, utilizando o parâmetro <strong>replace</strong> podemos repetir números</p>
<pre class="r"><code>sample(0:10, 10,replace = T)</code></pre>
<pre><code>## Saída exibida:  10 7 5 3 8 4 6 3 8 10</code></pre>
<p>Com esse comando podemos sortear nomes também. Para isso, basta criarmos um vetor de nomes, fora ou dentro do comando, e especificar quantos nomes queremos que seja sorteados.</p>
<pre class="r"><code>sample(c(&quot;João&quot;,&quot;Maria&quot;,&quot;José&quot;,&quot;Pedro&quot;,&quot;Julieta&quot;), 2)</code></pre>
<pre><code>## Saída exibida:  Julieta José</code></pre>
<ul>
<li>Vetores sequenciais pulando de acordo com o intervalo desejado.</li>
</ul>
<p>Muito útil também é gerar valores sequencias pulando uma determinada quantia de valores, para isso, usamos a função <strong>seq</strong>, onde queremos gerar valores de 1 a 10, pulando de 0.5 em 0.5 sequencialmente.</p>
<pre class="r"><code>seq(1,10,0.5)</code></pre>
<pre><code>## Saída exibida:  1 1.5 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 8 8.5 9 9.5 10</code></pre>
<ul>
<li>Criando uma semente para os valores aleátorios.</li>
</ul>
<p>Em muitas situações queremos replicar estudos de simulação com valores aleatórios, para isso, podemos criar uma semente, e dessa maneira os números aleatórios iram se repetir até mesmo em outro computador. O comando que faz isso é o <strong>set.seed</strong>, onde o parâmetro dentro da função tem que ser o mesmo nas replicações.</p>
<pre class="r"><code>set.seed(57)</code></pre>
<ul>
<li>Operações com vetores</li>
</ul>
<p>Podemos realizar operações com vetores, como somar, subtrair, multiplicar e dividir.</p>
<pre class="r"><code>vet_1 + vet_4
vet_1 - vet_4
vet_1 * vet_4
vet_1 / vet_4
4 * vet_1</code></pre>
</div>
<div id="matrizes" class="section level3">
<h3>5.2. Matrizes</h3>
<p>Matrizes seguem a mesma lógica de vetores, porém, com mais dimensões, nós trabalharemos sempre com matrizes de duas dimensões, para criar a matriz, elas também são Semelhante ao data.frame, exceto que cada elemento deve ser o mesmo tipo e mais comumente todos sendo números. As funções que funcionam com data.frame também devem funcionar com a matriz. Eu particularmente utilizo matrizes apenas em funções como for, while, para ir preenchendo, em geral utilizo mais data.frames</p>
<ul>
<li>Sintaxe para criação de matrizes</li>
</ul>
<p>Para criar matrizes é simples e tem diversas maneiras. A primeira é no primeiro parâmetro adicionar o vetor de valores, o segundo parâmetro o número de linhas e o terceiro parâmetro o número de colunas.</p>
<pre class="r"><code>matrix1 = matrix(c(1,2,3,4,5,6,7,8,9),nrow = 3,ncol = 3)</code></pre>
<pre><code>## Saída exibida:</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9</code></pre>
<p>O segundo jeito é especificar somente o vetor de valores e o segundo parâmetro que é o número de linhas de cada coluna, dessa forma, os valores vão se alocando sozinhos na primeira coluna até o quinto elemento por exemplo e depois vão para a segunda.</p>
<pre class="r"><code>matrix2 &lt;- matrix(1:10, nrow = 5)</code></pre>
<pre><code>## Saída exibida:</code></pre>
<pre><code>##      [,1] [,2]
## [1,]    1    6
## [2,]    2    7
## [3,]    3    8
## [4,]    4    9
## [5,]    5   10</code></pre>
<p>Geralmente nos looping criamos inicialmente uma matriz de NA, para isso, basta deixarmos o primeiro parâmetro vazio</p>
<pre class="r"><code>cat(&quot;Saída exibida:&quot;)</code></pre>
<pre><code>## Saída exibida:</code></pre>
<pre class="r"><code>matrix3</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]   NA   NA   NA
## [2,]   NA   NA   NA
## [3,]   NA   NA   NA</code></pre>
<p>Como vimos por padão o R vai adicionando os elementos por linha, podemos alterar isso para colunas adicionando o parâmetro <strong>byrow</strong></p>
<pre class="r"><code>matrix4 &lt;- matrix(1:10, nrow = 5, byrow = TRUE)</code></pre>
<pre><code>## Saída exibida:</code></pre>
<pre><code>##      [,1] [,2]
## [1,]    1    2
## [2,]    3    4
## [3,]    5    6
## [4,]    7    8
## [5,]    9   10</code></pre>
<ul>
<li>Multiplicando de matrizes</li>
</ul>
<p>Para multiplicar matrizes utilizamos o operador %*%.</p>
<pre class="r"><code>matrix1 %*% matrix1</code></pre>
<ul>
<li>Transpor matrizes</li>
</ul>
<p>Para transpor uma matriz basta usar a função <strong>t()</strong></p>
<pre class="r"><code>t(matrix1)</code></pre>
<ul>
<li>Acessando elementos de uma matriz</li>
</ul>
<p>Para acessar elementos de uma matriz é muito simples, assim como vetor, usamos operador <strong>[]</strong>, porém em uma matríz temos linhas e colunas e para separar isso, vamos utilizar uma vírgula, ficando o operador dessa forma <strong>[,]</strong>. Antes da vírgula é o acesso a linha e depois da vírgula é o acesso a coluna.</p>
<p>Dessa forma, para acessar a primeira linha de uma matriz utilizamos <strong>[1,]</strong>.</p>
<pre class="r"><code>matrix1[1,]</code></pre>
<pre><code>## Saída exibida:  1 4 7</code></pre>
<p>Para acessar a primeira coluna de uma matriz utilizamos <strong>[,1]</strong></p>
<pre class="r"><code>matrix1[,1]</code></pre>
<pre><code>## Saída exibida:  1 2 3</code></pre>
<p>Para acessar um elemento da matriz passamos as coordenadas, por exemplo, queremos o elemento que está na primeira linha da segunda coluna, fazemos então <strong>[1,2]</strong>.</p>
<pre class="r"><code>matrix1[1,2]</code></pre>
<pre><code>## Saída exibida:  4</code></pre>
<p>Esses conceitos de acesso são muito importantes e você vai utilizar o tempo todo no R, para vetores, matrizes, data.frames e listas.</p>
<p><a href="#abcd">Volte ao topo</a></p>
</div>
<div id="tipos-de-objetos" class="section level3">
<h3>5.3. Tipos de objetos</h3>
<p>Ja vimos alguns tipos de objetos que o R possui, vetores e matrizes. Dentre os vetores podemos ter 3 tipos principais, <strong>numeric</strong>, <strong>character</strong> e <strong>factor</strong>. Temos as matrizes que basicamente são conjuntos de vetores e alguns principais que veremos mais para frente que são <strong>data.frames</strong> e <strong>lists</strong>. Mas como saber que tipo de objeto estamos trabalhando? Para isso o R possui uma função chamada <strong>class</strong>. Observe:</p>
<ul>
<li>Vetor numérico</li>
</ul>
<pre class="r"><code>class(c(1,2,3,4,5))</code></pre>
<pre><code>## Saída exibida:  numeric</code></pre>
<p>Podemos arredondar valores numéricos utilizando algumas funções no R, as mais comuns são:</p>
<ul>
<li><strong>round</strong> (Arrendondamento tradicional)</li>
</ul>
<p>Podemos especificar no segundo argumento o número de casa decimais que queremos e onde ele irá arredondar.</p>
<pre class="r"><code>round(1.5757, 2)</code></pre>
<pre><code>## [1] 1.58</code></pre>
<ul>
<li><strong>trunc</strong> (Corta as casas decimais)</li>
</ul>
<pre class="r"><code>trunc(1.5757)</code></pre>
<pre><code>## [1] 1</code></pre>
<ul>
<li><strong>ceiling</strong> (Arredonda o valor pra cima)</li>
</ul>
<pre class="r"><code>ceiling(1.5757)</code></pre>
<pre><code>## [1] 2</code></pre>
<ul>
<li><strong>floor</strong> (Arredonda o valor pra baixo)</li>
</ul>
<pre class="r"><code>floor(1.5757)</code></pre>
<pre><code>## [1] 1</code></pre>
<ul>
<li>Vetor character</li>
</ul>
<p>Quando misturamos numeros com letras, o R entende como vetor de caracteres. Caso o vetor seja convertido para numeric, os caracteres assumirão valores nulos.</p>
<pre class="r"><code>class(c(&quot;a&quot;,&quot;b&quot;,&quot;1&quot;,&quot;3&quot;))</code></pre>
<pre><code>## Saída exibida:  character</code></pre>
<ul>
<li>Vetor factor</li>
</ul>
<p>É um tipo de vetor para lidar com variáveis categóricas. Ele facilita a ordenação de vetores de textos e são muito utilizados em modelagens, criação de gráficos, etc.</p>
<pre class="r"><code>class(factor(c(&quot;a&quot;,&quot;b&quot;,&quot;1&quot;,&quot;3&quot;)))</code></pre>
<pre><code>## Saída exibida:  factor</code></pre>
<p>Para sabemos quantos níveis/levels tem um vetor de fator, usamos a função <strong>nlevels</strong> que seria basicamente o mesmo do que contar os valores únicos de um vetor de caracteres. Observe abaixo que temos 4 elementos no vetor mas apenas 3 níveis.</p>
<pre class="r"><code>nlevels(factor(c(&quot;a&quot;,&quot;a&quot;,&quot;1&quot;,&quot;3&quot;)))</code></pre>
<pre><code>## [1] 3</code></pre>
<ul>
<li>Matrizes</li>
</ul>
<pre class="r"><code>class(matrix())</code></pre>
<pre><code>## Saída exibida:  matrix array</code></pre>
<ul>
<li>Data frames</li>
</ul>
<p>Data frames nada mais são do que tabelas, com linhas e colunas. é praticamente uma matriz com rótulos de colunas. Também são conjunto de vetores, mas diferente de matrizes, cada coluna pode ser um tipo, por exemplo, a coluna 1 pode ser numérica, a coluna 2 pode ser character e a coluna 3 pode ser fator, na matriz ou são numericos ou são caracteres, não temos essa mistura e convenhamos, essa mistura é o que mais ocorre na vida real, pois temois informações como UF, Sexo, Idade, Peso, tudo junto em uma mesma tabela.</p>
<pre class="r"><code>class(data.frame())</code></pre>
<pre><code>## Saída exibida:  data.frame</code></pre>
<p>Poré, em um data.frame quando temos muitas colunas, fica praticamente inviável ficar dando um <strong>class</strong> uma por uma, pensando nisso o R possui uma função chamada <strong>str</strong> que nos mostra os tipos de de cada coluna.</p>
<pre class="r"><code>df_class = data.frame(col1 = c(7,2,7,56), col2 = c(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;))</code></pre>
<pre class="r"><code>str(df_class,list.len=ncol(df_class))</code></pre>
<pre><code>## &#39;data.frame&#39;:    4 obs. of  2 variables:
##  $ col1: num  7 2 7 56
##  $ col2: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</code></pre>
<p>Porém essa não é uma forma muito apresentavel de se ver, podemos fazer uso de outras funções para verificarmos o tipo de cada coluna, caso queiramos filtrar e verificar quais são numéricas, coisas do tipo.</p>
<pre class="r"><code>Class_DF = data.frame(Variavel = names(sapply(df_class, class)),
                      Classe  = sapply(df_class, class))

row.names(Class_DF) = NULL</code></pre>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;">
Variavel
</th>
<th style="text-align:center;">
Classe
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
col1
</td>
<td style="text-align:center;">
numeric
</td>
</tr>
<tr>
<td style="text-align:center;">
col2
</td>
<td style="text-align:center;">
character
</td>
</tr>
</tbody>
</table>
<ul>
<li>Listas</li>
</ul>
<p>As listas, é um objeto que aceita diversos tipos de objetos dentro dela. Por exemplo, o primeio item de uma lista pode ser um vetor, o segundo pode ser um data.frame, o terceiro pode ser uma matriz e assim por diante.</p>
<pre class="r"><code>class(list())</code></pre>
<pre><code>## Saída exibida:  list</code></pre>
<p>Veremos listas e data.frames de forma mais detalhada, pois são os tipos de objetos mais trabalhados, pelo menos comigo.</p>
</div>
<div id="data-frames" class="section level3">
<h3>5.4. Data Frames</h3>
<p><a href="#abcd">Volte ao topo</a></p>
</div>
<div id="listas" class="section level3">
<h3>5.5. Listas</h3>
<p><a href="#abcd">Volte ao topo</a></p>
</div>
</div>
<div id="operações-matemáticas-básicas" class="section level2">
<h2>6. Operações matemáticas básicas</h2>
<p>Temos abaixo as mais funções matemáticas/estatísticas básicas mais utilizadas, tais como: <strong>log na base e</strong>, <strong>exponencial</strong>, <strong>máximo</strong>, <strong>mínimo</strong>, <strong>soma</strong>, <strong>média</strong>, <strong>mediana</strong>, <strong>variância</strong>, <strong>desvio padrão</strong> e <strong>correlação</strong>, respectivamente:</p>
<pre class="r"><code>log(1)
exp(1)</code></pre>
<p>O máximo e mínimo pode ser calculado entre mais de um vetor</p>
<pre class="r"><code>max(vet_1)
max(vet_1,vet_4)

min(vet_1)
min(vet_1,vet_4)</code></pre>
<pre class="r"><code>sum(vet_1)
mean(vet_1)
median(vet_1)
var(vet_1)
sd(vet_1)</code></pre>
<p>Para a correlação pode ser especificada qual metodologia para calcular, <strong>pearson</strong>, <strong>kendall</strong> ou <strong>spearman</strong>.</p>
<pre class="r"><code>cor(vet_1,vet_4, method = &quot;pearson&quot;)
cor(vet_1,vet_4, method = &quot;kendall&quot;)
cor(vet_1,vet_4, method = &quot;spearman&quot;)</code></pre>
<p><a href="#abcd">Volte ao topo</a></p>
<pre class="r"><code>class(vet_1)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<pre class="r"><code>class(vet_2)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>class(vet_3)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>class(vet_4)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>Transformando valores de um vetor em fator, numeros e caracteres</p>
<pre class="r"><code>as.factor(vet_1)
as.numeric(vet_2)
as.character(vet_3)</code></pre>
<p>Teste</p>
<pre class="r"><code>as.factor(vet_1)
as.numeric(vet_2)
as.character(vet_3)</code></pre>
</div>
